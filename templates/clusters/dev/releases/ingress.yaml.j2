apiVersion: networking.k8s.io/v1
kind: Ingress
metadata: { name: grafana, namespace: {{ edge.namespaces.obs }} }
spec:
  rules:
    - host: {{ expose.ingress.grafana_host | tojson }}
      http: { paths: [ { path: "/", pathType: Prefix, backend: { service: { name: grafana, port: { number: 80 } } } } ] }
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata: { name: nodered, namespace: {{ edge.namespaces.iot }} }
spec:
  rules:
    - host: {{ expose.ingress.nodered_host | tojson }}
      http: { paths: [ { path: "/", pathType: Prefix, backend: { service: { name: nodered, port: { number: 1880 } } } } ] }
